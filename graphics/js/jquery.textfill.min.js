!function(e){e.fn.textfill=function(i){function t(){s.debug&&"undefined"!=typeof console&&void 0!==console.debug&&console.debug.apply(console,arguments)}function n(e,i,n,l,s,h){function o(e,i){var t=" / ";return e>i?t=" > ":e==i&&(t=" = "),t}t("[TextFill] "+e+" { font-size: "+i.css("font-size")+",Height: "+i.height()+"px "+o(i.height(),n)+n+"px,Width: "+i.width()+o(i.width(),l)+l+",minFontPixels: "+s+"px, maxFontPixels: "+h+"px }")}function l(e,i,t,l,s,h,o,a){for(n(e,i,s,h,o,a);o<Math.floor(a)-1;){var c=Math.floor((o+a)/2);i.css("font-size",c);var r=t.call(i);if(r<=l){if(o=c,r==l)break}else a=c;n(e,i,s,h,o,a)}return i.css("font-size",a),t.call(i)<=l&&n(e+"* ",i,s,h,o=a,a),o}var s=e.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1,truncateOnFail:!1,allowOverflow:!1},i);return t("[TextFill] Start Debug"),this.each(function(){var i=e(s.innerTag,this);t("[TextFill] Inner text: "+i.text()),t("[TextFill] All options: ",s),t("[TextFill] Maximum sizes: { Height: "+n+"px, Width: "+h+"px }");var n=s.explicitHeight||e(this).height(),h=s.explicitWidth||e(this).width(),o=i.css("font-size"),a=parseFloat(i.css("line-height"))/parseFloat(o),c=s.minFontPixels,r=0>=s.maxFontPixels?n:s.maxFontPixels,x=void 0;s.widthOnly?i.css("white-space","nowrap"):x=l("Height",i,e.fn.height,n,n,h,c,r),c=l("Width",i,e.fn.width,h,n,h,c,r),s.widthOnly?(i.css({"font-size":c}),s.changeLineHeight&&i.parent().css("line-height",a*c+"px")):(x=Math.min(x,c),i.css("font-size",x),s.changeLineHeight&&i.parent().css("line-height",a*x+"px")),t("[TextFill] Finished { Old font-size: "+o+", New font-size: "+i.css("font-size")+" }"),i.width()>h&&!s.allowOverflow||i.height()>n&&!s.widthOnly&&!s.allowOverflow?(i.css("font-size",o),s.fail&&s.fail(this),t("[TextFill] Failure { Current Width: "+i.width()+", Maximum Width: "+h+", Current Height: "+i.height()+", Maximum Height: "+n+" }")):s.success&&s.success(this)}),s.complete&&s.complete(this),t("[TextFill] End Debug"),this}}("undefined"!=typeof module&&module.exports?require("jquery"):window.jQuery);